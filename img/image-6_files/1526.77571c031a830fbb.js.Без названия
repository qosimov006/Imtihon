"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1526],{1526:function(t,e,r){r.r(e),r.d(e,{default:function(){return g}});var a=r(1527),c=r(3944),o=r(5697),l=r(6502),s=r(4371),n=r(1818),i=r.n(n),u=r(2349),d=r(959);let p=i()(()=>r.e(4173).then(r.bind(r,315)),{loadableGenerated:{webpack:()=>[315]}}),h={categories:[],products:[],subcategories:[],history:[]};var g=t=>{var e;let{isMobile:r}=t,{t:n}=(0,s.$G)(),[i,g]=(0,d.useState)([]),x=(0,d.useRef)(null),m=(0,u.useRouter)(),[y,b]=(0,d.useState)(h),[f,w]=(0,d.useState)(!1),[v,k]=(0,d.useState)(),N=(0,l.Z)(v);return(0,d.useEffect)(()=>{let t=async()=>{let t=await o.z.search(N||"");b(t)};N?t():b({...h,history:Object.keys(i).slice(0,10)})},[N]),(0,d.useEffect)(()=>{var t,e;(null==m?void 0:null===(t=m.query)||void 0===t?void 0:t.product)?k("".concat(null==m?void 0:null===(e=m.query)||void 0===e?void 0:e.product)):k(""),w(!1)},[m]),(0,d.useEffect)(()=>{b({...y,history:Object.keys(i)})},[i]),(0,d.useEffect)(()=>{if(f){document.body.classList.add("!overflow-hidden"),r&&window.scrollTo({top:71});let t=window.localStorage.getItem("history");g(JSON.parse(t||"[]"))}else document.body.classList.remove("!overflow-hidden")},[f]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("form",{className:"w-full relative z-[51] laptop:bg-[transparent] bg-light ".concat(f&&r&&"fixed top-0 right-0 bottom-0 left-0 min-h-[100dvh] max-h-[100dvh] overflow-y-auto !p-0"," ").concat(r&&"p-[16px] z-40 sticky top-0"," "),onSubmit:t=>{t.preventDefault(),v&&(m.push("/search?product=".concat(v)),x.current&&x.current.blur(),w(!1),window.localStorage.setItem("history",JSON.stringify({...i,[v]:1})))},children:[(0,a.jsxs)("div",{className:"border-stroke border-[1px] rounded-[14px] p-[3px] flex justify-between w-full bg-light  ".concat(f&&"border-light sticky top-0 z-10"," ").concat(f&&r&&"!py-[16px] !px-[12px]"),children:[f&&r&&(0,a.jsx)("button",{className:"stroke-dark rotate-[90deg] h-full] flex items-end justify-center min-w-[32px] max-w-[32px]",onClick:()=>w(!1),"aria-label":"search_button",children:(0,a.jsx)(c.Z,{iconName:"bottom_arrow",className:"w-[24px] h-[24px]"})}),(0,a.jsx)("input",{ref:x,type:"search",placeholder:n("search_placeholder"),className:"tablet:mx-[10px] laptopM:mx-[20px] w-full outline-none text-[14px]  mx-[5px] bg-[transparent]",onFocus:()=>{w(!0)},onChange:t=>{k(t.target.value)},value:v||(null==m?void 0:null===(e=m.query)||void 0===e?void 0:e.search_name)||""}),(0,a.jsx)("button",{className:"bg-red-primary rounded-[12px] py-[9px] tablet:px-[25px] px-[18px] stroke-light ".concat(f&&"bg-red-primary"),"aria-label":"category_change",type:"submit",children:(0,a.jsx)(c.Z,{iconName:"search",className:"w-[24px] h-[24px]"})})]}),f&&JSON.stringify(y)!==JSON.stringify(h)&&(0,a.jsx)("div",{className:"absolute w-[100%] tablet:min-h-max min-h-screen left-0 bg-light tablet:top-[110%] rounded-[14px] p-[10px] flex flex-col gap-[6px] tablet:max-h-[60vh] tablet:pb-[10px] pb-[50px]",children:(0,a.jsxs)("div",{className:"tablet:overflow-y-auto simple__scroll",children:[Object.keys(y).map((t,e,r)=>{var c,o;return(0,a.jsxs)(a.Fragment,{children:[null===(c=y[t])||void 0===c?void 0:c.map((e,r)=>(0,a.jsx)(p,{type:t,data:e,setFocus:w,setData:b},r)),e!==(null==r?void 0:r.length)-1&&(null===(o=y[t])||void 0===o?void 0:o.length)>0&&(0,a.jsx)("div",{className:"border-b-[1px] border-back"})]})}),JSON.stringify(y)===JSON.stringify({})&&(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[200px] text-gray-500",children:(0,a.jsx)("span",{children:"No data"})})]})})]}),f&&(0,a.jsx)("div",{className:"fixed tablet:bg-black-glass bg-light z-[50] backdrop-blur h-[100vh] w-[100vw] top-0 right-0 left-0 bottom-0",onClick:()=>w(!1)})]})}},5697:function(t,e,r){r.d(e,{z:function(){return c}});var a=r(9);let c=new class{async getBanners(t,e){let r="banner?place=website&type=".concat(t,"&cut=true");try{let t=await a.SA.get(r,e);return t.data}catch(a){let e=Error("Type: ".concat(t,". Error in: ").concat(r));throw e}}async getBlockProducts(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,c="products_block/".concat(t,"?single_slug=").concat(e);try{let t=await a.SA.get(c,r);return t.data}catch(e){throw Error("Type: ".concat(t,". Error in: ").concat(c))}}async getAllProducts(t){let e="product_card?".concat(t);try{let t=await a.SA.get(e);return t.data}catch(t){throw Error("Error in: ".concat(e))}}async getBrands(){let t="brand?is_popular=active&limit=12&cut=true";try{let e=await a.SA.get(t);return e.data}catch(e){throw Error("Error in: ".concat(t))}}async getPopularCategories(t){let e="subcategory?is_popular=active&limit=6&cut=true";try{let r=await a.SA.get(e,t);return r.data}catch(t){throw Error("Error in: ".concat(e))}}async search(t){let e="search?search=".concat(t);try{let t=await a.SA.get(e);return t.data}catch(t){throw Error("Error in: ".concat(e))}}async getSearchData(t){let e=new URLSearchParams(t),r="product_card?limit=24&".concat(e);try{let t=await a.SA.get(r);return t.data}catch(t){throw Error("Error in: ".concat(r))}}async getNavList(t){let e="nav-category?limit=50";try{let r=await a.SA.get(e,t);return r.data}catch(t){throw Error("Error in: ".concat(e))}}async getHomeBlocks(t,e){if(t){let r=this.filterBlockProducts(t,e),[a]=await Promise.all(r);return{getData:a}}{let t=this.filterBlockProducts(),[e,r,a,c,o]=await Promise.all(t);return{seasons:e,daily:r,hit:a,new:c,samsung:o}}}filterBlockProducts(t,e){let r=["seasons","daily","hit","new","samsung"];if(t&&r.includes(t))return[this.getBlockProducts(t,e)];{let t=r.map(t=>this.getBlockProducts(t,e));return t}}}},6502:function(t,e,r){var a=r(959);e.Z=function(t,e){let[r,c]=(0,a.useState)(t);return(0,a.useEffect)(()=>{let r=setTimeout(()=>c(t),e||500);return()=>{clearTimeout(r)}},[t,e]),r}}}]);